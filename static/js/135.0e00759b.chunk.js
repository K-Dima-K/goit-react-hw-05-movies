"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[135],{135:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var n=r(861),a=r(439),s=r(757),i=r.n(s),c=r(791),u=r(87),o=r(689),l=r(928),p=r(106),v={wrapper:"MovieDetails_wrapper__YMWLn",button:"MovieDetails_button__uXZxd",title:"MovieDetails_title__cUGs9",topic:"MovieDetails_topic__Vwqjc",list:"MovieDetails_list__dbNMP",wrapperLink:"MovieDetails_wrapperLink__RqOdW",link:"MovieDetails_link__U+v+7"},f=r(184),d=function(){var e,t=(0,c.useState)(null),r=(0,a.Z)(t,2),s=r[0],d=r[1],h=(0,c.useState)(!1),m=(0,a.Z)(h,2),x=m[0],_=m[1],w=(0,c.useState)(null),g=(0,a.Z)(w,2),k=g[0],b=g[1],j=(0,c.useState)([]),Z=(0,a.Z)(j,2),N=Z[0],y=Z[1],M=(0,c.useState)(""),D=(0,a.Z)(M,2),U=D[0],L=D[1],S=(0,o.UO)().movieId,C=(0,o.s0)(),q=(null===(e=(0,o.TH)().state)||void 0===e?void 0:e.from)||"/movies";(0,c.useEffect)((function(){var e=function(){var e=(0,n.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,(0,l.TP)(S);case 4:t=e.sent,d(t),y(t.genres),L(t.release_date),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),r=e.t0.response,b(r.error);case 14:return e.prev=14,_(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})));return function(){return e.apply(this,arguments)}}();e()}),[S,d,_,k]);var F=N.map((function(e){var t=e.name,r=e.id;return(0,f.jsx)("li",{children:t},r)})),G=(0,c.useMemo)((function(){return new Date(U).getFullYear()}),[U]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("button",{type:"button",onClick:function(){return C(q)},className:v.button,children:"Go back"}),x&&(0,f.jsx)(p.Z,{}),s&&(0,f.jsxs)("div",{className:v.wrapper,children:[(0,f.jsx)("img",{src:"https://image.tmdb.org/t/p/w300/".concat(s.poster_path),alt:s.original_title,loading:"lazy",className:v.img,width:"250px",height:"300px"}),(0,f.jsxs)("div",{className:v.info,children:[(0,f.jsxs)("h2",{className:v.title,children:[s.original_title,(0,f.jsxs)("span",{children:[" (",G,")"]})]}),(0,f.jsxs)("p",{children:["User score: ",(s.vote_average/10*100).toFixed(0),"%"]}),(0,f.jsx)("h3",{className:v.topic,children:"Genres"}),(0,f.jsx)("ul",{className:v.list,children:F}),(0,f.jsx)("h3",{className:v.topic,children:"Overview"}),(0,f.jsx)("p",{children:s.overview})]})]}),(0,f.jsxs)("div",{className:v.wrapperLink,children:[(0,f.jsx)(u.rU,{state:{from:q},to:"/movies/".concat(S,"/cast"),className:v.link,children:"Cast"}),(0,f.jsx)(u.rU,{state:{from:q},to:"/movies/".concat(S,"/reviews"),className:v.link,children:"Reviews"})]}),(0,f.jsx)(o.j3,{})]})}},928:function(e,t,r){r.d(t,{Jh:function(){return p},M1:function(){return l},TP:function(){return u},Zf:function(){return o},x1:function(){return c}});var n=r(861),a=r(757),s=r.n(a),i=r(243).Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"7f6b82d6e6301d2c74dd8fbee3405c81"}}),c=function(){var e=(0,n.Z)(s().mark((function e(){var t,r,n,a=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,e.next=3,i.get("/trending/movie/day?",{params:{page:t}});case 3:return r=e.sent,n=r.data,e.abrupt("return",n.results);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("/movie/".concat(t,"?"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("/search/movie?",{params:{query:t}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("/movie/".concat(t,"/credits?"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n.cast);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("/movie/".concat(t,"//reviews?"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=135.0e00759b.chunk.js.map
{"version":3,"file":"static/js/135.0e00759b.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","shared/servises/Api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"MovieDetails_wrapper__YMWLn\",\"button\":\"MovieDetails_button__uXZxd\",\"title\":\"MovieDetails_title__cUGs9\",\"topic\":\"MovieDetails_topic__Vwqjc\",\"list\":\"MovieDetails_list__dbNMP\",\"wrapperLink\":\"MovieDetails_wrapperLink__RqOdW\",\"link\":\"MovieDetails_link__U+v+7\"};","import PropTypes from 'prop-types';\n\nimport { useState, useEffect, useMemo } from 'react';\nimport {\n  useParams,\n  useNavigate,\n  Link,\n  Outlet,\n  useLocation,\n} from 'react-router-dom';\n\nimport { getMovieDetails } from '../../shared/servises/Api';\nimport Loader from '../../shared/components/Loader/Loader';\n\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [genres, setGenres] = useState([]);\n  const [date, setDate] = useState('');\n\n  const { movieId } = useParams();\n\n  const navigate = useNavigate();\n\n  const location = useLocation();\n  const from = location.state?.from || '/movies';\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      try {\n        setLoading(true);\n\n        const results = await getMovieDetails(movieId);\n\n        setMovie(results);\n\n        setGenres(results.genres);\n\n        setDate(results.release_date);\n      } catch ({ response }) {\n        setError(response.error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMovie();\n  }, [movieId, setMovie, setLoading, error]);\n\n  const goBack = () => navigate(from);\n\n  const elements = genres.map(({ name, id }) => <li key={id}>{name}</li>);\n\n  const year = useMemo(() => new Date(date).getFullYear(), [date]);\n\n  return (\n    <>\n      <button type=\"button\" onClick={goBack} className={css.button}>\n        Go back\n      </button>\n      {loading && <Loader />}\n      {movie && (\n        <div className={css.wrapper}>\n          <img\n            src={`https://image.tmdb.org/t/p/w300/${movie.poster_path}`}\n            alt={movie.original_title}\n            loading=\"lazy\"\n            className={css.img}\n            width=\"250px\"\n            height=\"300px\"\n          />\n          <div className={css.info}>\n            <h2 className={css.title}>\n              {movie.original_title}\n              <span> ({year})</span>\n            </h2>\n            <p>User score: {((movie.vote_average / 10) * 100).toFixed(0)}%</p>\n            <h3 className={css.topic}>Genres</h3>\n            <ul className={css.list}>{elements}</ul>\n            <h3 className={css.topic}>Overview</h3>\n            <p>{movie.overview}</p>\n          </div>\n        </div>\n      )}\n      <div className={css.wrapperLink}>\n        <Link\n          state={{ from }}\n          to={`/movies/${movieId}/cast`}\n          className={css.link}\n        >\n          Cast\n        </Link>\n        <Link\n          state={{ from }}\n          to={`/movies/${movieId}/reviews`}\n          className={css.link}\n        >\n          Reviews\n        </Link>\n      </div>\n      <Outlet />\n    </>\n  );\n};\nexport default MovieDetails;\n\nMovieDetails.propTypes = {\n  onClick: PropTypes.func,\n  state: PropTypes.string,\n};\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '7f6b82d6e6301d2c74dd8fbee3405c81',\n  },\n});\n\nexport const filmsSearch = async (page = 1) => {\n  const { data } = await instance.get('/trending/movie/day?', {\n    params: {\n      page,\n    },\n  });\n  return data.results;\n};\n\nexport const getMovieDetails = async movieId => {\n  const { data } = await instance.get(`/movie/${movieId}?`);\n  return data;\n};\n\nexport const MovieSearch = async query => {\n  const { data } = await instance.get('/search/movie?', {\n    params: {\n      query,\n    },\n  });\n  return data.results;\n};\n\nexport const getMovieCast = async movieId => {\n  const { data } = await instance.get(`/movie/${movieId}/credits?`);\n  return data.cast;\n};\n\nexport const getReviews = async movieId => {\n  const { data } = await instance.get(`/movie/${movieId}//reviews?`);\n  return data.results;\n};\n"],"names":["useState","movie","setMovie","loading","setLoading","error","setError","genres","setGenres","date","setDate","movieId","useParams","navigate","useNavigate","from","useLocation","state","useEffect","fetchMovie","getMovieDetails","results","release_date","response","elements","map","name","id","year","useMemo","Date","getFullYear","type","onClick","className","css","Loader","src","poster_path","alt","original_title","width","height","vote_average","toFixed","overview","to","instance","axios","baseURL","params","api_key","filmsSearch","page","get","data","MovieSearch","query","getMovieCast","cast","getReviews"],"sourceRoot":""}